<link rel="stylesheet" href="/css/bootstrap.css" <link rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
    integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="limitador.js"></script>
<!-- aq vai ser a página incil, a gente pode fazer dessa forma, colocanto todos o
s códigos html, ou linkar todos aqui -->

{{> navbar}}

<!--card de postagem -->
<div class="container m-5"></div>
<br>
<section id="section-adm">
<link rel="stylesheet" href="../css/adm.css">
<br>
    <h3 class="titulo-criação">Aqui você pode colocar as informações da sua publicação</h3>
    
    <form action="/add" method="POST" enctype="multipart/form-data" class="container">


        <div class="card">
            <div class="top-card">
                <label for="">Título </label>
                <input placeholder="Escreva o título da publicação..." class="title" autocomplete="off" name="titulo" maxlength="60" required>

            </div>

            <div class="media-card">
                <label for="input-foto" class="foto">
                    <input style="width:100%" type="file" name="Image" id="input-foto" accept="image/*">
                    <span class="foto-nome"></span>

            </div>
            <div class="bottom-action">
                <label for="">Descrição</label>
                <textarea type="text"name="conteudo" maxlength="200"required></textarea>
                <div class="btn" type="subimit" value ="upload"><button class="action">Publicar</button></div>

            </div>

    </form>
</section>

<div class="container m-5"></div>
<!--LISTA DE POST -->
<br>

 <h1 class="title-2">Aqui está as suas publicações</h1>
 <p class="title-3">Você pode apagar elas quando quiser</p>
<section id="section-lista">
    
<link rel="stylesheet" href="../css/posts.css">

<div class="container m-4"></div>
<br>
<div class="container m-4"></div>
    {{#each posts}}
    <div class="card">

        <div class="top-card">
            <h1>{{titulo}}</h1>
        </div>

        <div class="media-card">{{Image}}</div>
    
        <div class="bottom-action">
            
            <p>{{conteudo}}</p>
            <div class="data-post">
            <small>{{createdAt}}</small> <!-- para colocar a data que o foi criado !-->
        </div>
            <div class="btn"><a class="link" href="/deletar/{{id}}"><button class="action">Deletar</button></a></div>
        </div>
        
    </div>
    {{/each}}
</section>

<script>
    const inputFile = document.querySelector("#input-foto");
    const pictureImage = document.querySelector(".foto-nome");
    const pictureImageTxt = "Escolha uma imagem";
    pictureImage.innerHTML = pictureImageTxt;

    inputFile.addEventListener('change', function (e) {
        const inputTarget = e.target;
        const file = inputTarget.files[0];

        if (file) {
            const reader = new FileReader();

            reader.addEventListener('load', function (e) {
                const readerTarget = e.target

                const img = document.createElement('img');
                img.src = readerTarget.result;
                img.classList.add('foto-img');
                pictureImage.innerHTML = "";

                pictureImage.appendChild(img);
            });

            reader.readAsDataURL(file);
        }
        else {
            pictureImage.innerHTML = pictureImageTxt;
        }
    });
</script>




<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
    integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
    crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
    integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
    crossorigin="anonymous"></script>
<script src="exibir.js"></script>
<script src="/js/bootstrap.js"></script>
<script src="/public/js/bootstrap.js"></script>